{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/img/logoStop.svg","../src/main.js"],"sourcesContent":["// import axios from \"axios\";\n// export async function getPhotoServer(q,page,perPage){\n//     const BASE_URL = 'https://pixabay.com';\n//     const END_POINT='/api/?';\n//     const params = new URLSearchParams ({\n//         key: \"43236135-18e22e789778019f0f194eb5c\",\n//         q:`${q}`,\n//         image_type:\"photo\",\n//         orientation:\"horizontal\",\n//         safesearch:  \"true\",\n//         page:`${page}`,\n//         per_page:`${perPage}`\n//     });\n//     const url = `${BASE_URL}${END_POINT}${params}`;\n//     try {\n//         const res = await axios.get(url);\n//         return res.data;}\n//     catch (error){console.log(\"Error:\", error);} \n// } \n\nimport axios from \"axios\";\n\nexport async function getPhotoServer(q, page) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/?';\n    const params = new URLSearchParams({\n        key: \"43236135-18e22e789778019f0f194eb5c\",\n        q: `${q}`,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n        page: `${page}`,\n        per_page: 15\n    });\n    const url = `${BASE_URL}${END_POINT}${params}`;\n    try {\n        const res = await axios.get(url);\n        return res.data;\n    } catch (error) {\n        console.error(\"Error:\", error);\n        throw error;\n    }\n}\n","\nexport function photoResponse(data){\n    return ` \n    <li class = \"photoItem\">\n        <a class=\"gallery-link\" href=\"${data.largeImageURL}\">\n            <img\n                class=\"img\"\n                src=\"${data.previewURL}\"\n                alt=\"${data.tags}\"/>\n                \n            <div class= \"titlePhoto\">\n            <div class=\"propertyItem\">\n                <h5 class=\"proportyTitle\">Likes</h5>\n                <p class=\"propertyQuantety\">${data.likes}</p>\n            </div>\n            <div class=\"propertyItem\">\n                <h5 class=\"proportyTitle\">Views</h5>\n                <p class=\"propertyQuantety\">${data.views}</p>\n            </div>\n            <div class=\"propertyItem\">\n                <h5 class=\"proportyTitle\">Comments</h5>\n                <p class=\"propertyQuantety\">${data.comments}</p>\n            </div>\n            <div class=\"propertyItem\">\n                <h5 class=\"proportyTitle\">Downloads</h5>\n                <p class=\"propertyQuantety\">${data.downloads}</p>\n            </div>\n            </div>\n            </a>\n            </li>\n            `\n};\nexport function photosResponse(arr){\n    console.log(arr)\n    return arr.map(photoResponse).join(\"\");\n};\n\n\n","export default \"__VITE_ASSET__fe05575e__\"","import {getPhotoServer} from \"./js/pixabay-api.js\";\nimport {photosResponse} from \"./js/render-function.js\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from \"axios\";\nimport stop from \"./img/logoStop.svg\";\nconst form = document.querySelector('.searchBox');\nconst inputSearch = form.querySelector('.searchInput');\nconst gallery = document.querySelector('.gallery')\nconst loadSecondBtm = document.querySelector('.button-search-second');\nfunction showLoader(){\nconst loadingText = `<span class=\"loader\"></span>`;\ngallery.innerHTML = loadingText;\n}\nlet page = 1;\nform.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n    gallery.insertAdjacentHTML(\"beforeend\", `<span class=\"loader\"></span>`)\n    const inputData = inputSearch.value;\n    showLoader();\n    try {\n        const photo = await getPhotoServer(inputData,page);\n        const markup = photosResponse(photo.hits);\n        loadSecondBtm.style.display = 'flex';\n        if (!photo.total) {\n            iziToast.show({\n                id: 'messageError',\n                position: 'topRight',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                iconUrl: stop,\n                messageColor: 'white',\n                color: '#EF4040',\n            });\n        }\n        gallery.innerHTML = markup;\n        const lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250\n        });\n    } catch (error) {\n        console.error(error);\n        iziToast.error({\n            position: 'topRight',\n            title: 'Error',\n            message: `${error}`,\n        });\n    }\n    form.reset();\n    sendNextRequest()\n});\n\nfunction sendNextRequest(){\n    loadSecondBtm.addEventListener(\"click\", async () => {\n        page += 1;\n        const inputData = inputSearch.value;\n        try {\n            const photo = await getPhotoServer(inputData,page);\n            const markup = photosResponse(photo.hits);\n            loadSecondBtm.style.display = 'flex';\n            if (!photo.total) {\n                iziToast.show({\n                    id: 'messageError',\n                    position: 'topRight',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    iconUrl: stop,\n                    messageColor: 'white',\n                    color: '#EF4040',\n                });\n            }\n            gallery.insertAdjacentHTML(\"beforeend\", markup)\n            const lightbox = new SimpleLightbox('.gallery a', {\n                captionsData: 'alt',\n                captionDelay: 250\n            });\n        } catch (error) {\n            console.error(error);\n            iziToast.error({\n                position: 'topRight',\n                title: 'Error',\n                message: `${error}`,\n            });\n        }\n    });\n\n}\n\n\n\n\n\n// import {getPhotoServer} from \"./js/pixabay-api.js\";\n// import {photosResponse} from \"./js/render-function.js\";\n// import SimpleLightbox from \"simplelightbox\";\n// import \"simplelightbox/dist/simple-lightbox.min.css\";\n// import iziToast from \"izitoast\";\n// import \"izitoast/dist/css/iziToast.min.css\";\n// import axios from \"axios\";\n// import stop from \"./img/logoStop.svg\";\n// const form = document.querySelector('.searchBox');\n// const inputSearch = form.querySelector('.searchInput');\n// const gallery = document.querySelector('.gallery')\n// function showLoader(){\n//     const loadingText = `<span class=\"loader\"></span>`;\n//         gallery.innerHTML = loadingText;\n// }\n// form.addEventListener(\"submit\", (e)=>{\n//     e.preventDefault();\n//     const inputData = inputSearch.value;\n//     showLoader()\n//     try{\n//         const photo = getPhotoServer(inputData,2,4)\n//         const markup = photosResponse(photo.hits);\n//             if(!photo.total){\n//                 iziToast.show({\n//                         id: 'messageError',\n//                         position: 'topRight',\n//                         message: 'Sorry, there are no images matching your search query. Please try again!',\n//                         iconUrl: stop,\n//                         messageColor: 'white',\n//                         color: '#EF4040',\n//                     })}\n//         gallery.innerHTML = markup;\n//         const lightbox = new SimpleLightbox('.gallery a', {\n//             captionsData: 'alt', captionDelay: 250\n    \n//           });\n//           }\n//     catch(error){\n//         console.log(error)\n//         iziToast.error({\n//             position: 'topRight',\n//             title: 'Error',\n//             message: `${error}`,\n//     });\n\n//     }\n//     form.reset()\n// });\n// form.addEventListener(\"submit\", (e)=>{\n//     e.preventDefault();\n//     const inputData = inputSearch.value;\n//     showLoader()\n//     getPhotoServer(inputData).then((photo) =>{\n//         const markup = photosResponse(photo.hits);\n//             if(!photo.total){\n//                 iziToast.show({\n//                         id: 'messageError',\n//                         position: 'topRight',\n//                         message: 'Sorry, there are no images matching your search query. Please try again!',\n//                         iconUrl: stop,\n//                         messageColor: 'white',\n//                         color: '#EF4040',\n//                     })}\n//         gallery.innerHTML = markup;\n//         const lightbox = new SimpleLightbox('.gallery a', {\n//             captionsData: 'alt', captionDelay: 250\n    \n//           });\n          \n    \n//     })\n\n//     .catch((error) => {\n//         console.log(error)\n//         iziToast.error({\n//             position: 'topRight',\n//             title: 'Error',\n//             message: `${error}`,\n//     });\n//     form.reset()\n\n// });\n// })\n"],"names":["getPhotoServer","q","page","BASE_URL","END_POINT","params","url","axios","error","photoResponse","data","photosResponse","arr","stop","form","inputSearch","gallery","loadSecondBtm","showLoader","loadingText","inputData","photo","markup","iziToast","lightbox","SimpleLightbox","sendNextRequest"],"mappings":"+vBAsBO,eAAeA,EAAeC,EAAGC,EAAM,CAC1C,MAAMC,EAAW,sBACXC,EAAY,SACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAG,GAAGJ,CAAC,GACP,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAM,GAAGC,CAAI,GACb,SAAU,EAClB,CAAK,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,GAAGC,CAAM,GAC5C,GAAI,CAEA,OADY,MAAME,EAAM,IAAID,CAAG,GACpB,IACd,OAAQE,EAAO,CACZ,cAAQ,MAAM,SAAUA,CAAK,EACvBA,CACT,CACL,CCzCO,SAASC,EAAcC,EAAK,CAC/B,MAAO;AAAA;AAAA,wCAE6BA,EAAK,aAAa;AAAA;AAAA;AAAA,uBAGnCA,EAAK,UAAU;AAAA,uBACfA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,8CAKcA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,8CAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,8CAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,8CAIbA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,aAM5D,CACO,SAASC,EAAeC,EAAI,CAC/B,eAAQ,IAAIA,CAAG,EACRA,EAAI,IAAIH,CAAa,EAAE,KAAK,EAAE,CACzC,CCnCA,MAAeI,EAAA,8CCQTC,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAcD,EAAK,cAAc,cAAc,EAC/CE,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAgB,SAAS,cAAc,uBAAuB,EACpE,SAASC,GAAY,CACrB,MAAMC,EAAc,+BACpBH,EAAQ,UAAYG,CACpB,CACA,IAAIjB,EAAO,EACXY,EAAK,iBAAiB,SAAU,MAAO,GAAM,CACzC,EAAE,eAAc,EAChBE,EAAQ,mBAAmB,YAAa,8BAA8B,EACtE,MAAMI,EAAYL,EAAY,MAC9BG,IACA,GAAI,CACA,MAAMG,EAAQ,MAAMrB,EAAeoB,EAAUlB,CAAI,EAC3CoB,EAASX,EAAeU,EAAM,IAAI,EACxCJ,EAAc,MAAM,QAAU,OACzBI,EAAM,OACPE,EAAS,KAAK,CACV,GAAI,eACJ,SAAU,WACV,QAAS,2EACT,QAASV,EACT,aAAc,QACd,MAAO,SACvB,CAAa,EAELG,EAAQ,UAAYM,EACpB,MAAME,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAC1B,CAAS,CACJ,OAAQjB,EAAO,CACZ,QAAQ,MAAMA,CAAK,EACnBe,EAAS,MAAM,CACX,SAAU,WACV,MAAO,QACP,QAAS,GAAGf,CAAK,EAC7B,CAAS,CACJ,CACDM,EAAK,MAAK,EACVY,EAAiB,CACrB,CAAC,EAED,SAASA,GAAiB,CACtBT,EAAc,iBAAiB,QAAS,SAAY,CAChDf,GAAQ,EACR,MAAMkB,EAAYL,EAAY,MAC9B,GAAI,CACA,MAAMM,EAAQ,MAAMrB,EAAeoB,EAAUlB,CAAI,EAC3CoB,EAASX,EAAeU,EAAM,IAAI,EACxCJ,EAAc,MAAM,QAAU,OACzBI,EAAM,OACPE,EAAS,KAAK,CACV,GAAI,eACJ,SAAU,WACV,QAAS,2EACT,QAASV,EACT,aAAc,QACd,MAAO,SAC3B,CAAiB,EAELG,EAAQ,mBAAmB,YAAaM,CAAM,EAC9C,MAAME,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAC9B,CAAa,CACJ,OAAQjB,EAAO,CACZ,QAAQ,MAAMA,CAAK,EACnBe,EAAS,MAAM,CACX,SAAU,WACV,MAAO,QACP,QAAS,GAAGf,CAAK,EACjC,CAAa,CACJ,CACT,CAAK,CAEL"}